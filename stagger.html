<style>
div[a-card-stagger] > * {
opacity: 0;
transform: translateY(30px);
animation: fadeInUp 0.5s ease-in forwards;
}

@keyframes fadeInUp {
from {
opacity: 0;
transform: translateY(30px);
}
to {
opacity: 1;
transform: translateY(0);
}
}
</style>

<script>// Function to check if an element is in the viewport
function isInViewport(element) {
    var rect = element.getBoundingClientRect();
    return (
    rect.top <= (window.innerHeight * 0.7) // 70% viewport height
    );
}

// Listen for scroll events
window.addEventListener('scroll', function() {
    var elements = document.querySelectorAll('div[a-card-stagger]');
    elements.forEach(function(element) {
    if (isInViewport(element)) {
        // Add class to trigger animation only once
        element.classList.add('animate');
    }
    });
});
</script>

<style>
div[a-card-stagger].animate > * {
animation-play-state: running;
}

/* Prevent animation from repeating */
div[a-card-stagger] > * {
animation-iteration-count: 0; /* 0 means no repeat */
}

</style>

<script>
elements.forEach(function(element, index) {
if (isInViewport(element)) {
element.classList.add('animate');
// Calculate delay based on index and stagger value
var delay = index * 0.05 + 's';
element.style.animationDelay = delay;
}
});

</script>